{"ast":null,"code":"var _jsxFileName = \"/Users/aigul/Desktop/arvb/snowshop/src/contexts/ContextItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const contextItem = /*#__PURE__*/React.createContext();\nconst INIT_STATE = {\n  items: [],\n  edited: null\n};\n\nconst reducer = (state = INIT_STATE, action) => {\n  switch (action.type) {\n    case 'GET_ITEMS':\n      return { ...state,\n        items: action.payload\n      };\n\n    case 'EDIT_ITEMS':\n      return { ...state,\n        edited: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst ContextItemProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, INIT_STATE);\n  let history = useHistory();\n\n  const getItems = async () => {\n    let {\n      data\n    } = await axios('http://localhost:8000/items');\n    dispatch({\n      type: 'GET_ITEMS',\n      payload: data\n    });\n  };\n\n  const addItems = async newItems => {\n    await axios.post('http://localhost:8000/items', newItems);\n    getItems();\n  };\n\n  const delItems = async id => {\n    await axios.delete(`http://localhost:8000/items/${id}`);\n    getItems();\n  };\n\n  const itemToEdit = async id => {\n    let {\n      data\n    } = await axios(`http://localhost:8000/items/${id}`);\n    console.log(data);\n    dispatch({\n      type: 'EDIT_ITEMS',\n      payload: data\n    });\n  };\n\n  const saveEdit = async newItems => {\n    await axios.patch(`http://localhost:8000/items/${newItems.id}`, newItems);\n    getItems();\n  };\n\n  return /*#__PURE__*/_jsxDEV(contextItem.Provider, {\n    value: {\n      items: state.items,\n      edited: state.edited,\n      addItems,\n      getItems,\n      delItems,\n      itemToEdit,\n      saveEdit\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ContextItemProvider, \"cnXMTVKajSErxvxxgN2bIWttLxo=\", false, function () {\n  return [useHistory];\n});\n\n_c = ContextItemProvider;\nexport default ContextItemProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextItemProvider\");","map":{"version":3,"sources":["/Users/aigul/Desktop/arvb/snowshop/src/contexts/ContextItem.js"],"names":["React","useReducer","axios","useHistory","contextItem","createContext","INIT_STATE","items","edited","reducer","state","action","type","payload","ContextItemProvider","children","dispatch","history","getItems","data","addItems","newItems","post","delItems","id","delete","itemToEdit","console","log","saveEdit","patch"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,OAAO,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAN,EAApB;AAEP,MAAMC,UAAU,GAAG;AACfC,EAAAA,KAAK,EAAG,EADO;AAEfC,EAAAA,MAAM,EAAE;AAFO,CAAnB;;AAKA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGJ,UAAT,EAAqBK,MAArB,KAA8B;AAC1C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,WAAL;AACI,aAAO,EAAC,GAAGF,KAAJ;AAAWH,QAAAA,KAAK,EAAEI,MAAM,CAACE;AAAzB,OAAP;;AACJ,SAAK,YAAL;AACI,aAAO,EAAC,GAAGH,KAAJ;AAAWF,QAAAA,MAAM,EAAEG,MAAM,CAACE;AAA1B,OAAP;;AACJ;AAAS,aAAOH,KAAP;AALb;AAOH,CARD;;AAUA,MAAMI,mBAAmB,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAAA;;AACxC,QAAM,CAACL,KAAD,EAAOM,QAAP,IAAmBf,UAAU,CAACQ,OAAD,EAAUH,UAAV,CAAnC;AACA,MAAIW,OAAO,GAAGd,UAAU,EAAxB;;AAEA,QAAMe,QAAQ,GAAG,YAAS;AACtB,QAAI;AAACC,MAAAA;AAAD,QAAS,MAAMjB,KAAK,CAAC,6BAAD,CAAxB;AACAc,IAAAA,QAAQ,CAAC;AACLJ,MAAAA,IAAI,EAAE,WADD;AAELC,MAAAA,OAAO,EAAEM;AAFJ,KAAD,CAAR;AAIH,GAND;;AAQA,QAAMC,QAAQ,GAAG,MAAOC,QAAP,IAAmB;AAChC,UAAMnB,KAAK,CAACoB,IAAN,CAAW,6BAAX,EAA0CD,QAA1C,CAAN;AACAH,IAAAA,QAAQ;AACX,GAHD;;AAKA,QAAMK,QAAQ,GAAG,MAAOC,EAAP,IAAa;AAC1B,UAAMtB,KAAK,CAACuB,MAAN,CAAc,+BAA8BD,EAAG,EAA/C,CAAN;AACAN,IAAAA,QAAQ;AACX,GAHD;;AAIA,QAAMQ,UAAU,GAAG,MAAOF,EAAP,IAAa;AAC5B,QAAI;AAACL,MAAAA;AAAD,QAAS,MAAMjB,KAAK,CAAE,+BAA8BsB,EAAG,EAAnC,CAAxB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACAH,IAAAA,QAAQ,CAAC;AACLJ,MAAAA,IAAI,EAAE,YADD;AAELC,MAAAA,OAAO,EAAEM;AAFJ,KAAD,CAAR;AAIH,GAPD;;AASA,QAAMU,QAAQ,GAAG,MAAMR,QAAN,IAAiB;AAC9B,UAAMnB,KAAK,CAAC4B,KAAN,CAAa,+BAA8BT,QAAQ,CAACG,EAAG,EAAvD,EAA0DH,QAA1D,CAAN;AACAH,IAAAA,QAAQ;AACX,GAHD;;AAKA,sBACI,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AACzBX,MAAAA,KAAK,EAAEG,KAAK,CAACH,KADY;AAEzBC,MAAAA,MAAM,EAAEE,KAAK,CAACF,MAFW;AAGzBY,MAAAA,QAHyB;AAIzBF,MAAAA,QAJyB;AAKzBK,MAAAA,QALyB;AAMzBG,MAAAA,UANyB;AAOzBG,MAAAA;AAPyB,KAA7B;AAAA,cASKd;AATL;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH,CAhDD;;GAAMD,mB;UAEYX,U;;;KAFZW,mB;AAkDN,eAAeA,mBAAf","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nexport const contextItem = React.createContext()\n\nconst INIT_STATE = {\n    items : [],\n    edited: null\n}\n\nconst reducer = (state = INIT_STATE, action)=>{\n    switch(action.type){\n        case 'GET_ITEMS':\n            return {...state, items: action.payload}\n        case 'EDIT_ITEMS':\n            return {...state, edited: action.payload}\n        default: return state\n    }\n}\n\nconst ContextItemProvider = ({children}) => {\n    const [state,dispatch] = useReducer(reducer, INIT_STATE)\n    let history = useHistory()\n\n    const getItems = async()=>{\n        let {data} = await axios('http://localhost:8000/items')\n        dispatch({\n            type: 'GET_ITEMS',\n            payload: data\n        })\n    }\n\n    const addItems = async (newItems) =>{\n        await axios.post('http://localhost:8000/items', newItems)\n        getItems()\n    }\n\n    const delItems = async (id) =>{\n        await axios.delete(`http://localhost:8000/items/${id}`)\n        getItems()\n    }\n    const itemToEdit = async (id) =>{\n        let {data} = await axios(`http://localhost:8000/items/${id}`)\n        console.log(data)\n        dispatch({\n            type: 'EDIT_ITEMS',\n            payload: data\n        })\n    }\n\n    const saveEdit = async(newItems)=>{\n        await axios.patch(`http://localhost:8000/items/${newItems.id}`, newItems)\n        getItems()\n    }\n\n    return(\n        <contextItem.Provider value={{\n            items: state.items,\n            edited: state.edited,\n            addItems,\n            getItems,\n            delItems,\n            itemToEdit,\n            saveEdit\n        }}>\n            {children}\n        </contextItem.Provider>\n    );\n};\n\nexport default ContextItemProvider;"]},"metadata":{},"sourceType":"module"}